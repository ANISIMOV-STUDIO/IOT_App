version: '3.8'

# BREEZ HVAC - Локальная разработка
# Запуск: docker-compose up --build

services:
  breez-app:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: breez-hvac-app
    restart: unless-stopped
    ports:
      - "127.0.0.1:3000:80"
    volumes:
      # Логи nginx
      - ./logs/nginx:/var/log/nginx
    networks:
      - breez-network
    healthcheck:
      test: ["CMD-SHELL", "curl -f http://localhost/ || exit 1"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s

networks:
  breez-network:
    driver: bridge
